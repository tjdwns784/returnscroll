<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://www.mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="article">
	<update id="increaseOrd" parameterType="map">
	<!-- XML 문서에서 꺽쇠 기호 사용시 오동작을 막기 위해서 CDATA 사용 -->
	<![CDATA[
		UPDATE ARTICLE SET
		ORD = ORD + 1
		WHERE GRP = #{grp} AND ORD >= #{ord}
		]]>
	</update>
	<insert id="insert" parameterType="map">
		INSERT INTO ARTICLE (NO, TITLE, CONTENT, HIT, WRITER, WRITE_DATE)
		VALUES (NULL, #{title}, #{content}, 0, #{writer}, NOW())
	</insert>
	<update id="update" parameterType="_int">
		UPDATE ARTICLE SET
		HIT = HIT +1
		WHERE NO = #{value}
	</update>
	<select id="select" resultType="map">
		SELECT NO, TITLE, CONTENT, HIT,WRITER, WRITE_DATE
		FROM `ARTICLE`
		ORDER BY NO DESC
	</select>
	<select id="selectById" resultType="map" parameterType="_int">
		SELECT NO, TITLE, CONTENT, HIT, WRITER, WRITE_DATE
		FROM `ARTICLE`
		WHERE NO=#{value}
	</select>

	
	
</mapper>